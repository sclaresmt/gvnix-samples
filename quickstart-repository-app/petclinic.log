/*C2*/SET SCHEMA PUBLIC
alter table abstract_person drop constraint FK_k7wc2cx83mn69yt3p5th4l2jr
alter table pet drop constraint FK_aceg8h10j82tgy5c87ahdd2u9
alter table visit drop constraint FK_f7gt7uoe35fspowxsa9io2nvt
alter table visit drop constraint FK_pgurl7t29vn7wt9asnw8arct
drop table abstract_person if exists
drop table pet if exists
drop table visit if exists
create table abstract_person (dtype varchar(31) not null, id bigint generated by default as identity (start with 1), address varchar(50) not null, birth_day timestamp not null, city varchar(30) not null, email varchar(30), first_name varchar(30), home_page varchar(30), last_name varchar(30) not null, telephone varchar(255) not null, version integer, employed_since timestamp, specialty integer, owner bigint, primary key (id))
create table pet (id bigint generated by default as identity (start with 1), name varchar(255) not null, send_reminders boolean not null, type integer not null, version integer, weight float not null check (weight>=0), owner bigint, primary key (id))
create table visit (id bigint generated by default as identity (start with 1), description varchar(255), version integer, visit_date timestamp not null, pet bigint not null, vet bigint, primary key (id))
alter table abstract_person add constraint FK_k7wc2cx83mn69yt3p5th4l2jr foreign key (owner) references abstract_person
alter table pet add constraint FK_aceg8h10j82tgy5c87ahdd2u9 foreign key (owner) references abstract_person
alter table visit add constraint FK_f7gt7uoe35fspowxsa9io2nvt foreign key (pet) references pet
alter table visit add constraint FK_pgurl7t29vn7wt9asnw8arct foreign key (vet) references abstract_person
INSERT INTO ABSTRACT_PERSON VALUES('Owner',1,'eythh','2015-06-15 00:00:00.000000','uu','yety@hotmail.com','uuu','','uuhehtheytheythytehe','',0,NULL,NULL,NULL)
COMMIT
INSERT INTO PET VALUES(1,'io',FALSE,0,0,78.0E0,1)
COMMIT
